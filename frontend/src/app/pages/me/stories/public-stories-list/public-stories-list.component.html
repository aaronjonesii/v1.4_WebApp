<div class="container" *ngIf="!storiesLoaded; else loaded">
  <anon-loading></anon-loading>
</div>

<ng-template #loaded>
  <ng-container *ngIf="publicStories.length > 0; else noStories">

<div class="container">
  <div class="d-flex flex-column w-100 border-0 justify-content-between py-3">
    <nb-list >
      <nb-list-item *ngFor="let story of publicStories" class="d-flex justify-content-center mb-2">
        <div class="d-flex w-75">
          <a *ngIf="this.story.background_image == ''; else storyImage" class="row align-items-center" routerLink="public/{{story.id}}"> <img src="https://picsum.photos/3000/1500" class="d-flex mr-2 rounded float-left" style="max-width: 100px; max-height: 100px;" alt="..." /> </a>
          <ng-template #storyImage>
            <a class="row align-items-center" routerLink="public/{{story.id}}"> <img [src]="story.background_image" class="d-flex mr-2 rounded float-left" style="max-width: 100px; max-height: 100px;" alt="..." /> </a>
          </ng-template>
          <nb-card class="card m-0 border-0">
            <nb-card-body>
              <h6 class="card-title"> <a class="text-decoration-none text-reset stretched-link" routerLink="public/{{story.id}}">{{ story.title }}</a> </h6>
              <p class="card-text m-0"> <small class="">{{ story.author_name }}</small> </p>
              <p class="card-text m-0"> <small class="text-muted">{{ story.created_on | dateAgo }} | {{ story.read_time }} min read</small> </p>
            </nb-card-body>
          </nb-card>
        </div>
      </nb-list-item>
    </nb-list>

  </div>
</div>

  </ng-container>
  <ng-template #noStories>
    <div class="display-4 no-stories"> No stories yet, check back soon... </div>
  </ng-template>
</ng-template>
